<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å—æµ·èˆªè·¯ ã‚ªãƒ¼ãƒ«è¨ˆç®—ãƒ„ãƒ¼ãƒ«ï¼ˆæç¯ä¸¸ï¼‰</title>
<style>
body{
  margin:0;
  font-family: "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  background-color: #b3ecff;
  background-image: url("data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='60' viewBox='0 0 120 60'><path fill='white' fill-opacity='0.5' d='M0 30 Q 30 0, 60 30 T 120 30 V60 H0 Z'/></svg>");
  background-repeat: repeat-x;
  background-size: 120px 60px;
  color:#00334d;
}
header{
  background:#0099cc;
  color:#fff;
  padding:12px;
  text-align:center;
  font-size:17px;
  font-weight:600;
}
.wrap{
  max-width:480px;
  margin:12px auto;
  padding:10px;
}
.card{
  background: rgba(255,255,255,0.95);
  border-radius:10px;
  padding:10px;
  box-shadow:0 4px 10px rgba(0,0,0,0.12);
  margin-bottom:12px;
}
.sectionTitle{
  font-weight:700;
  color:#0099cc;
  margin-bottom:6px;
  font-size:15px;
}
label{font-size:13px; display:block; margin-top:6px; font-weight:600;}
.bigInput{
  width:100%;
  padding:5px;
  margin-top:4px;
  border-radius:6px;
  border:1px solid #8fd2ee;
  font-size:14px;
  box-sizing:border-box;
}
.timeRow{
  display:flex;
  gap:4px;
  align-items:center;
}
.timeRow input[type="number"]{
  width:28%;
  padding:5px;
  border-radius:6px;
  border:1px solid #8fd2ee;
  font-size:14px;
  text-align:center;
}
.colon{
  font-size:15px;
  color:#00334d;
  width:5%;
  text-align:center;
}
.oarRow{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:8px;
  margin-top:6px;
}
.oarBox{
  display:flex;
  flex-direction:column;
  font-size:12px;
}
.oarBox input{ 
  width:100%; 
  padding:4px; 
  border-radius:6px; 
  border:1px solid #8fd2ee; 
  font-size:13px; 
  margin-top:2px;
  box-sizing:border-box;
}
button{
  width:100%;
  margin-top:10px;
  padding:10px;
  border-radius:8px;
  border:none;
  background:#0099cc;
  color:#fff;
  font-size:15px;
  font-weight:700;
}
.result{
  margin-top:10px;
  padding:10px;
  border-radius:8px;
  background:linear-gradient(180deg,#eafcff,#d6f9ff);
  border:1px solid #9fdcf0;
  color:#00334d;
  font-size:14px;
}
.log{
  margin-top:6px;
  padding:6px;
  border-radius:6px;
  background:#fff;
  border:1px solid #cfeefb;
  font-size:12px;
}
</style>
</head>
<body>
<header>âš“ å—æµ·èˆªè·¯ ã‚ªãƒ¼ãƒ«è¨ˆç®—ãƒ„ãƒ¼ãƒ« â€” æç¯ä¸¸ ğŸš¢</header>

<div class="wrap">
  <div class="card">
    <div class="sectionTitle">ğŸ›¶ æç¯ä¸¸ï¼ˆè‡ªåˆ†ï¼‰</div>
    <label>åŸºç¤é€Ÿåº¦ (m/s)</label>
    <input id="myBase" class="bigInput" type="number" min="0" value="45">
    <label>æ®‹ã‚Šåˆ°ç€æ™‚é–“ (HH : MM : SS)</label>
    <div class="timeRow">
      <input id="myH" type="number" min="0" value="00">
      <div class="colon">:</div>
      <input id="myM" type="number" min="0" max="59" value="30">
      <div class="colon">:</div>
      <input id="myS" type="number" min="0" max="59" value="00">
    </div>
    <label>ã‚ªãƒ¼ãƒ«ï¼ˆå…¨åŒæ™‚ä½¿ç”¨ï¼‰</label>
    <div class="oarRow">
      <div class="oarBox"><div>èŒ¶ (+3,30åˆ†)</div><input id="myBrown" type="number" min="0" value="0"></div>
      <div class="oarBox"><div>ç·‘ (+4,30åˆ†)</div><input id="myGreen" type="number" min="0" value="0"></div>
      <div class="oarBox"><div>é’ (+6,30åˆ†)</div><input id="myBlue" type="number" min="0" value="0"></div>
      <div class="oarBox"><div>èµ¤ (+8,30åˆ†)</div><input id="myRed" type="number" min="0" value="0"></div>
    </div>
  </div>

  <div class="card">
    <div class="sectionTitle">ğŸ´â€â˜ ï¸ æ•µèˆ¹</div>
    <label>åŸºç¤é€Ÿåº¦ (m/s)</label>
    <input id="eBase" class="bigInput" type="number" min="0" value="40">
    <label>ç¾åœ¨ã®é€Ÿåº¦ (m/s)</label>
    <input id="eCurrent" class="bigInput" type="number" min="0" value="60">
    <label>ãã®é€Ÿåº¦ã®ç¶™ç¶šæ™‚é–“ (HH : MM : SS)</label>
    <div class="timeRow">
      <input id="eH" type="number" min="0" value="00">
      <div class="colon">:</div>
      <input id="eM" type="number" min="0" max="59" value="20">
      <div class="colon">:</div>
      <input id="eS" type="number" min="0" max="59" value="00">
    </div>
    <label>æ®‹ã‚Šåˆ°ç€æ™‚é–“ (HH : MM : SS)</label>
    <div class="timeRow">
      <input id="eRemH" type="number" min="0" value="00">
      <div class="colon">:</div>
      <input id="eRemM" type="number" min="0" max="59" value="30">
      <div class="colon">:</div>
      <input id="eRemS" type="number" min="0" max="59" value="00">
    </div>
  </div>

  <button id="calcBtn">è¨ˆç®—ã™ã‚‹</button>
  <div id="out" class="result card" style="display:none;"></div>
</div>

<script>
const OARS = {
  brown: {boost:3, dur:1800},
  green: {boost:4, dur:1800},
  blue: {boost:6, dur:1800},
  red: {boost:8, dur:1800}
};
function toSec(h,m,s){return (Number(h)||0)*3600 + (Number(m)||0)*60 + (Number(s)||0);}
function toHMS(sec){
  sec=Math.round(sec); if(sec<0)sec=0;
  const h=Math.floor(sec/3600),m=Math.floor((sec%3600)/60),s=sec%60;
  return String(h).padStart(2,'0')+':'+String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
}
document.getElementById("calcBtn").addEventListener("click",()=>{
  const myBaseVal = Number(document.getElementById("myBase").value)||0;
  const myRem = toSec(document.getElementById("myH").value, document.getElementById("myM").value, document.getElementById("myS").value);
  const myCounts = {
    brown: +document.getElementById("myBrown").value||0,
    green: +document.getElementById("myGreen").value||0,
    blue: +document.getElementById("myBlue").value||0,
    red: +document.getElementById("myRed").value||0
  };
  const myBoost = myCounts.brown*OARS.brown.boost + myCounts.green*OARS.green.boost + myCounts.blue*OARS.blue.boost + myCounts.red*OARS.red.boost;
  const myBoostSpeed = myBaseVal + myBoost;
  const myBoostDist = myBoostSpeed*1800;
  const myDistance = myBaseVal*myRem;
  let myArrSec,myLog=[];
  if(myDistance<=myBoostDist){
    myArrSec=myDistance/myBoostSpeed;
    myLog.push(`é€Ÿåº¦${myBoostSpeed}m/sã§é€²ã¿ã€${toHMS(myArrSec)}ã§åˆ°ç€ã€‚`);
  } else {
    const rem=myDistance-myBoostDist;
    const after=rem/myBaseVal;
    myArrSec=1800+after;
    myLog.push(`30åˆ†é–“é€Ÿåº¦${myBoostSpeed}m/sã§${myBoostDist}mé€²ã‚€ã€‚`);
    myLog.push(`æ®‹ã‚Š${rem}mã‚’åŸºç¤${myBaseVal}m/sã§${toHMS(after)}ã‹ã‘é€²ã‚€ã€‚`);
  }
  let extraBrown=0;
  if(myDistance>myBoostDist){extraBrown=Math.ceil((myDistance-myBoostDist)/(3*1800));}

  const eBaseVal=+document.getElementById("eBase").value||0;
  const eCurrentVal=+document.getElementById("eCurrent").value||0;
  const eBoostSec = toSec(document.getElementById("eH").value, document.getElementById("eM").value, document.getElementById("eS").value);
  const eRemSec = toSec(document.getElementById("eRemH").value, document.getElementById("eRemM").value, document.getElementById("eRemS").value);
  const eDistance = eBaseVal*eRemSec;
  let eArrSec,eLog=[];
  const eBoostDist = eCurrentVal*eBoostSec;
  if(eDistance<=eBoostDist){
    eArrSec = eDistance/eCurrentVal;
    eLog.push(`é€Ÿåº¦${eCurrentVal}m/sã§é€²ã¿${toHMS(eArrSec)}ã§åˆ°ç€ã€‚`);
  } else {
    const rem = eDistance - eBoostDist;
    const after = rem/eBaseVal;
    eArrSec = eBoostSec + after;
    eLog.push(`é€Ÿåº¦${eCurrentVal}m/sã§${toHMS(eBoostSec)}é€²ã‚€(${eBoostDist}m)ã€‚`);
    eLog.push(`æ®‹ã‚Š${rem}mã‚’åŸºç¤${eBaseVal}m/sã§${toHMS(after)}ã‹ã‘é€²ã‚€ã€‚`);
  }

  const diff = eArrSec-myArrSec;
  let compare="";
  if(Math.abs(diff)<0.5){compare="ã»ã¼åŒç€";}
  else if(diff>0){compare=`æç¯ä¸¸ğŸš¢ãŒ${toHMS(diff)}æ—©ã„`; }
  else{compare=`æ•µèˆ¹ãŒ${toHMS(-diff)}æ—©ã„`; }

  const out = document.getElementById("out");
  out.style.display="block";
  out.innerHTML=
  `
  <div><strong>æç¯ä¸¸ğŸš¢:</strong> ${toHMS(myArrSec)}</div>
  ${extraBrown>0?`<div>èŒ¶ã‚ªãƒ¼ãƒ«ã‚ã¨${extraBrown}æœ¬ã§åˆ°ç€å¯èƒ½</div>`:""}
  <div><strong>æ•µèˆ¹:</strong> ${toHMS(eArrSec)}</div>
  <div><strong>æ¯”è¼ƒ:</strong> ${compare}</div>
  <div class="log">æç¯ä¸¸ğŸš¢ãƒ­ã‚°:<br>${myLog.join("<br>")}</div>
  <div class="log">æ•µèˆ¹ãƒ­ã‚°:<br>${eLog.join("<br>")}</div>
  `;
});
</script>
</body>
</html>